<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Dashboard</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css"
    />
    <link rel="stylesheet" href="/css/style.css" />
  </head>
  <body>
    <div class="container-fluid">
      <div class="row" style="height: 100vh">
        <div class="col-2" style="background-color: #e3f2fd" data-bs-theme="light vh-100">
          <!-- Sidebar content -->
          <nav class="navbar navbar-expand-lg border-bottom border-black">
            <div class="container-fluid">
              <a class="navbar-brand" href="dashboard.html">KGL Dashboard</a>
            </div>
          </nav>
          <nav class="nav flex-column">
            <a
              class="nav-link text-black"
              style="white-space: nowrap"
              href="#"
              onclick="loadPage('procurement.html')"
              ><i class="bi bi-box-seam-fill"></i
              ><span class="d-none d-sm-inline ms-2"> Procurement </span></a
            >
            <a
              class="nav-link text-black"
              style="white-space: nowrap"
              href="#"
              onclick="loadPage('sales.html')"
              ><i class="bi bi-cart4"></i><span class="d-none d-sm-inline ms-2"> Sales</span></a
            >
            <a
              class="nav-link text-black"
              style="white-space: nowrap"
              href="#"
              onclick="loadPage('creditSale.html')"
              ><i class="bi bi-credit-card-fill"></i
              ><span class="d-none d-sm-inline ms-2"> Credit Sales</span></a
            >
            <a
              class="nav-link text-black"
              style="white-space: nowrap"
              href="#"
              onclick="loadPage('inventory.html')"
              ><i class="bi bi-clipboard2"></i
              ><span class="d-none d-sm-inline ms-2"> Inventory</span></a
            >
            <a
              class="nav-link text-black"
              style="white-space: nowrap"
              href="#"
              onclick="loadPage('reports.html')"
              ><i class="bi bi-graph-up"></i
              ><span class="d-none d-sm-inline ms-2"> Reports</span></a
            >
          </nav>
        </div>
        <div class="col-10 col-sm-9 col-xl-10 p-0 m-0">
          <nav class="navbar navbar-expand-lg bg-body-tertiary">
            <div class="container">
              <span class="navbar-text">
                Logged in as: <strong id="fullName">Odongo Lovemore</strong>
              </span>
              &nbsp;
              <span class="navbar-text"> Role <strong id="role">Manager</strong></span>

              <ul class="navbar-nav ms-auto">
                <li class="nav-item">
                  <a class="nav-link" href="/pages/login.html">
                    <i class="bi bi-arrow-bar-right me-2"></i>Logout
                  </a>
                </li>
              </ul>
            </div>
          </nav>
          <!-- Main content -->
          <div id="mainContent" class="p-4">
            <!-- Content from different pages appear here -->
            <h2>Welcome to KGL Dashboard</h2>
            <p>Select a section from the sidebar to load content here.</p>
          </div>
        </div>
      </div>
    </div>
    <script src="/js/loader.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
      crossorigin="anonymous"
    ></script>
    <script>
      let _details = localStorage.getItem('userDetails');
      if (!_details) {
        window.location.href = '/pages/login.html';
      }
      let userDetails = JSON.parse(_details);

      let fullNameElement = document.getElementById('fullName');
      let roleElement = document.getElementById('role');

      fullNameElement.textContent = `${userDetails.firstName} ${userDetails.lastname}`
      window.onload = () => loadPage('kglOverview.html');
    </script>
  </body>
</html>
